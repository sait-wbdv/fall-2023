---
title: Async JS and Rest APIs
excerpt:
status: announced
---

<script>
	import Homework from "$lib/components/Homework.svelte";
	import LessonPlan from "$lib/components/LessonPlan.svelte";
	import Achievement from "$lib/components/Achievement.svelte";
</script>

<Homework {status}>

- Read: [What is a rest api](https://www.redhat.com/en/topics/api/what-is-a-rest-api)
- Skim: [useful rest api list](https://rapidapi.com/blog/most-popular-api/)
  - find ones that are easy and interesting to use for sample work
- [async await syntax tutorial](https://javascript.info/async-await)
- Watch: [What is a rest api](https://www.youtube.com/watch?v=PfujVETI-i4)
- Read [Svelte server routes](https://kit.svelte.dev/docs/routing#server)
- Skim [HTTP Request Methods](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods)

</Homework>

<LessonPlan {status}>

<h2 id="scrum-meeting">Scrum Session</h2>

- what have you been working on?
- what do you plan to be doing?
- do you have any blocks?
- **discussion point**: What interests you more? frontend or backend? why?

<h2 id="rest-api"> 1. REST API</h2>

<h2 id="api-routes">Sveltekit API Routes</h2>

[![Slides - Introduction to Routing](/images/slides/http-rest.png)](https://sait-wbdv.github.io/slides/w23/cpnt-262/http-rest.html)

- [Overview Video](https://youtu.be/eW8uTGspyV8)
  - Sveltekit features server side routes. These are great for using as API routes
  - This makes it easier to build a full featured app without the need for a separate backend

### In Class Activity: Build API Routes

- In your teams, create new routes with unique names (ie: 1 person does about/ while another does gallery)
- In each of those folders, create `+server.js+ files (1 per folder)
- Use the following syntax to create a server route that will display the text
- make a get request with the following syntax:
- Example:
  ```
  export function GET() {
    return new Response("Hello from the API")
  }
  ```
- Take turns pushing and pulling (or if you have been using branches, merge down)
- Test out each others routes by running a dev server and navigating to the route

---

<h2 id="post-routes"> Create an API with Post Routes</h2>
**Ash will demo and walk through this**

### Render data in a +page.svelte

- [Recieving Data from an api route](https://kit.svelte.dev/docs/routing#server-receiving-data)
- Just like a separately hosted API, the data needs to be called into the route for use
- use a fetch call to your api, this will allow you to make a
- Data is passed using json, so you'll need to use [json.stringify](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) to handle data

#### Activity: Create basic math functions to be used on the frontend

- [Follow the code example here](https://kit.svelte.dev/docs/routing#server)
- make an `api/` folder containing `add/`, `subtract/`, `multiply/`, and `divide/`
- with your server routes, create simple equations following the addition example
- Each person try to then use the server side function on your frontend

---

</LessonPlan>

<Achievement {status}>

<h2>API Activities</h2>

Pick from the following options

1. Easier: Render data from Svelte server
   - Look up common server side data use cases
   - Think of a simple version of a use case that you can see yourself using
   - Build a minimal example using a `+server.js` file fetching the data into a `+page.svelte` file
2. Harder: Fetch data from a public api to a server route
   - Find sample data that you would like to try using
   - Fetch it into a `+server.js` route
   - Pass some of the data to the frontend
   - Render the passed data using an `{#each}` loop
3. Hardest: Do number 2 but also filter the data before it is passed to the client side

</Achievement>
